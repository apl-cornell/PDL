//Expected Fail
pipe unlock(inpt: int<32>)[rf: int<32>[5]<c,s>] {
    spec_check();
    s <- speccall unlock(inpt + 1<32>);
    ---
    start(rf);
    int<32> x = rf[u0<5>] + inpt;
    rf[u1<5>] <- x; //no speculative write
    end(rf);
    ---
    spec_barrier();
    verify(s, inpt);
}

circuit {
    r = memory(int<32>, 5);
}