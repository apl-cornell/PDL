pipe test22(inpt: int<32>, randomBool: bool, randomBool2: bool)[rf: int<32>[5]] {
    start(rf);
    split {
        case: randomBool {
            acquire(rf);
        }
        case: randomBool2 {
            int<32> c <- rf[u0<5>];
        }
        case: (inpt{0:0} == 1) {
            acquire(rf);
        }
        default: {
            acquire(rf);
        }
    }
    release(rf);
    end(rf);
    call test22(inpt, randomBool, randomBool2);
}

circuit {
    r = memory(int<32>, 5);
}