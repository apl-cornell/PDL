pipe test1(input: int<32>)[mem: int<32>[5]] {
     int<5> rs2 = input{13:9};
     if (input{0:0} == 1) {
         acquire(mem[rs2]);
         release(mem[rs2]);
     }
 }
 
 pipe test2(input: int<32>)[rf: int<32>[5]] {
     if (input{0:0} == 1) {
         acquire(rf);
         release(rf);
     }
 }
 
 circuit {
     r = memory(int<32>, 5);
     mem = memory(int<32>, 5)
 }