pipe cpu(pc: int<32>)[rf: int<32>[5]<c,s>, imem: int<32>[32]<a,a>, dmem: int<32>[32]<a,a>] {
    acquire(imem);
    int<32> insn <- imem[pc];
    release(imem);
    
    bool a = true;
    bool b = a;
  
    int<32> c = 1<32>;
    int<32> d = c;
    
   
    call cpu(pc + 1<32>);
}

circuit {
    i = memory(int<32>, 32);
    d = memory(int<32>, 32);
    r = regfile(int<32>, 5);
    c = new cpu(0<32>)[r, i, d];
}